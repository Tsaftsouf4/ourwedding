<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Πρόσκληση Γάμου</title>

<style>
* { box-sizing: border-box; margin: 0; padding: 0; }

html, body{
  width: 100%;
  height: 100%;
  overflow: hidden;
  background: #f6ead8;
  font-family: serif;
}

:root{
  --pageAspect: 1.45; /* height / width */
  --pageShadow: 0 18px 40px rgba(0,0,0,.25);
}

.wrapper{
  width: 100vw;
  height: 100svh;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.book{
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 28px;
}

.page{
  background: transparent;
  box-shadow: var(--pageShadow);
  border-radius: 22px 22px 18px 18px;
  overflow: hidden;
}

.page img{
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
}

.nav{
  position: absolute;
  bottom: 26px;
  display: flex;
  gap: 14px;
  z-index: 10;
}

button{
  background: rgba(255,255,255,.65);
  border: none;
  padding: 10px 18px;
  border-radius: 999px;
  font-size: 14px;
  cursor: pointer;
  backdrop-filter: blur(6px);
}

/* MOBILE: μία σελίδα, κεντρικά, μεγάλη αλλά ΠΟΤΕ κομμένη */
@media (max-width: 900px){
  .book{ flex-direction: column; }

  .page{
    width: min(92vw, calc((100svh - 200px) / var(--pageAspect)));
    height: calc(
      min(92vw, calc((100svh - 200px) / var(--pageAspect))) * var(--pageAspect)
    );
  }

  .page.hide-mobile{ display: none; }
}

/* DESKTOP: διπλή σελίδα */
@media (min-width: 901px){
  .page{
    width: min(38vw, 420px);
    height: calc(min(38vw, 420px) * var(--pageAspect));
  }
}
</style>
</head>

<body>

<div class="wrapper">

  <div class="book" id="book">
    <!-- 1️⃣ Cover -->
    <div class="page">
      <img src="assets/cover.png" alt="Cover">
    </div>

    <!-- 2️⃣ Left -->
    <div class="page hide-mobile">
      <img src="assets/left.png" alt="Ο γάμος μας">
    </div>

    <!-- 3️⃣ Right -->
    <div class="page hide-mobile">
      <img src="assets/right.png" alt="Η ημέρα μας">
    </div>
  </div>

  <div class="nav">
    <button onclick="prev()">◀ Πίσω</button>
    <button onclick="next()">Μπροστά ▶</button>
  </div>

</div>

<audio id="flipSound" src="assets/flip.mp3" preload="auto"></audio>

<script>
const pages = document.querySelectorAll('.page');
const sound = document.getElementById('flipSound');
let index = 0;

function update(){
  if (window.innerWidth <= 900){
    pages.forEach((p,i)=> p.classList.toggle('hide-mobile', i !== index));
  } else {
    pages.forEach(p => p.classList.remove('hide-mobile'));
  }
}

function playSound(){
  sound.currentTime = 0;
  sound.playbackRate = 1.35;
  sound.play().catch(()=>{});
}

function next(){
  if(index < pages.length - 1){
    index++;
    playSound();
    update();
  }
}

function prev(){
  if(index > 0){
    index--;
    playSound();
    update();
  }
}

window.addEventListener('resize', update);
update();
</script>

</body>
</html>
